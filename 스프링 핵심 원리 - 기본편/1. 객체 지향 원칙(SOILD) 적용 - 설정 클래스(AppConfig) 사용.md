# π“ λ©μ°¨
- κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™ (SOLID)
- κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬(AppConfig) - OCP, DIP κ°μ²΄ μ§€ν–¥ μ„¤κ³„ μ›μΉ™ μ μ©
- IoC, DI, κ·Έλ¦¬κ³  μ»¨ν…μ΄λ„
- SpringμΌλ΅ DI μ„¤μ •
# π’΅ κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™ (SOLID)
## SRP: λ‹¨μΌ μ±…μ„ μ›μΉ™(single responsibility principle)
ν• ν΄λμ¤λ” ν•λ‚μ μ±…μ„λ§ κ°€μ Έμ•Ό ν•λ‹¤. μ¦‰, λ³€κ²½μ΄ μμ„ λ• νκΈ‰ ν¨κ³Όκ°€ κ°€μ¥ μ μ„ μ μκ² ν΄λμ¤λ¥Ό μΌκ°λ” κ²ƒμ΄λ‹¤.
## OCP: κ°λ°©-νμ‡„ μ›μΉ™ (Open/closed principle)
- ν™•μ¥μ—λ” μ—΄λ ¤ μκ³  λ³€κ²½μ—λ” λ‹«ν€ μμ–΄μ•Ό ν•λ‹¤.
- μ½”λ“λ¥Ό μ¶”κ°€ν•λ” κ²ƒμ€ κ°€λ¥ν•μ§€λ§, μ½”λ“λ¥Ό λ³€κ²½ν•λ” κ²ƒμ€ λ¶κ°€λ¥ν•λ‹¤λ” λ»μ΄λ‹¤.

![](Image/Pasted%20image%2020240327001227.png)
κΈ°μ΅΄μ `MemoryMemberRepository` κ°μ²΄λ¥Ό `JdbcMemberRepository` κ°μ²΄λ΅ λ³€κ²½ν•λ ¤λ©΄ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ‹¤. ν•μ§€λ§ μ΄λ ‡κ² λ³€κ²½ν•λ©΄ OCPλ¥Ό μ„λ°ν•κ² λλ‹¤.
## LSP: λ¦¬μ¤μ½”ν”„ μΉν™ μ›μΉ™ (Liskov substitution principle)
  - λ‹¤ν•μ„±μ„ μ§€ν‚¤κΈ° μ„ν• μ›μΉ™μΌλ΅μ¨ ν”„λ΅κ·Έλ¨μ κ°μ²΄λ” ν”„λ΅κ·Έλ¨μ μ •ν™•μ„±μ„ κΉ¨λ¨λ¦¬μ§€ μ•μΌλ©΄μ„ μƒμ„ νƒ€μ…μ„ ν•μ„ νƒ€μ…μΌλ΅ λ°”κΏ€ μ μμ–΄μ•Ό ν•λ‹¤λ” κ²ƒμ„ λ»ν•λ‹¤.
> λ‹¤ν•μ„±μ΄λ€
> ν•μ„ ν΄λμ¤λ” μƒμ„ ν΄λμ¤(μΈν„°νμ΄μ¤)μ κ·μ•½μ„ λ¨λ‘ μ§€ν‚¤λ” κ²ƒ

- μ¦‰, λ¶€λ¨ ν΄λμ¤(μΈν„°νμ΄μ¤) μΈμ¤ν„΄μ¤ λ€μ‹  μμ‹ ν΄λμ¤ μΈμ¤ν„΄μ¤λ¥Ό μ‚¬μ©ν–μ„ λ• μ½”λ“κ°€ μ›λλ€λ΅ λ™μ‘ν•΄μ•Ό ν•λ‹¤λ” λ»μ΄λ‹¤.
## ISP: μΈν„°νμ΄μ¤ λ¶„λ¦¬ μ›μΉ™ (Interface segregation principle)
- μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈλ¥Ό μ„ν•΄ μ—¬λ¬ κΈ°λ¥μ΄ μλ” **λ²”μ© μΈν„°νμ΄μ¤κ°€ μ•„λ‹ νΉμ • ν΄λΌμ΄μ–ΈνΈλ¥Ό μ„ν• μΈν„°νμ΄μ¤ μ—¬λ¬ κ°λ΅ λ¶„λ¦¬ν•΄μ•Ό ν•λ‹¤λ” κ²ƒ**μ„ λ»ν•λ‹¤.
- μλ¥Ό λ“¤μ–΄ μλ™μ°¨ μΈν„°νμ΄μ¤λΌλ” λ²”μ© μΈν„°νμ΄μ¤λ” μ΄μ „ μΈν„°νμ΄μ¤, μ •λΉ„ μΈν„°νμ΄μ¤λ΅ λ¶„λ¦¬ν•  μ μκ³  μ‚¬μ©μ ν΄λΌμ΄μ–ΈνΈλ” μ΄μ „μ ν΄λΌμ΄μ–ΈνΈ, μ •λΉ„μ‚¬ ν΄λΌμ΄μ–ΈνΈλ΅ λ¶„λ¦¬ν•  μ μλ‹¤.
- ν•λ‚μ κΈ°λ¥λ§ μλ” μΈν„°νμ΄μ¤λ΅ λ¶„λ¦¬ν•λ©΄ μ •λΉ„ μΈν„°νμ΄μ¤ μμ²΄κ°€ λ³€ν•΄λ„ μ΄μ „μ ν΄λΌμ΄μ–ΈνΈμ— μν–¥μ„ μ£Όμ§€ μ•λ”λ‹¤. κ²°κµ­ μΈν„°νμ΄μ¤κ°€ λ…ν™•ν•΄μ§€κ³ , λ€μ²΄ κ°€λ¥μ„±μ΄ λ†’μ•„μ§„λ‹¤.
- μ¦‰, ν•λ‚μ μΈν„°νμ΄μ¤μ— μ—¬λ¬ κΈ°λ¥μ΄ λ“¤μ–΄κ°€ μλ‹¤λ©΄ νΉμ • κΈ°λ¥μ„ μμ •ν•  λ• ν•λ‚μ ν° μΈν„°νμ΄μ¤ μ „μ²΄λ¥Ό μμ •ν•΄μ•Ό ν•λ‹¤. ν•μ§€λ§ μΈν„°νμ΄μ¤λ¥Ό μ„Έλ¶€μ μΌλ΅ μΌκ°μ„ κµ¬ν„ν•λ©΄ κΈ°λ¥μ„ μμ •ν•  λ• λ‹¤λ¥Έ κΈ°λ¥μ— μν–¥μ„ μ£Όμ§€ μ•κ³  νΉμ • κΈ°λ¥λ§ μμ •ν•  μ μμΌ μ½”λ“ κ°€λ…μ„±, λ…ν™•μ„± λ“±μ΄ μ¬λΌκ°„λ‹¤.
## DIP: μμ΅΄κ΄€κ³„ μ—­μ „ μ›μΉ™ (Dependency inversion principle)
- ν”„λ΅κ·Έλλ¨Έλ” **β€μ¶”μƒν™”μ— μμ΅΄ν•΄μ•Όμ§€, κµ¬μ²΄ν™”μ— μμ΅΄ν•λ©΄ μ•λλ‹¤.β€** μμ΅΄μ„± μ£Όμ…μ€ μ΄ μ›μΉ™μ„ λ”°λ¥΄λ” λ°©λ²• μ¤‘ ν•λ‚λ‹¤. 
- μ‰½κ² μ΄μ•ΌκΈ°ν•΄μ„ **κµ¬ν„ ν΄λμ¤μ— μμ΅΄ν•μ§€ λ§κ³ , μΈν„°νμ΄μ¤μ— μμ΅΄**ν•λΌλ” λ» 
- μ•μ—μ„ μ΄μ•ΌκΈ°ν• μ—­ν• (Role)μ— μμ΅΄ν•κ² ν•΄μ•Ό ν•λ‹¤λ” κ²ƒκ³Ό κ°™λ‹¤. κ°μ²΄ μ„Έμƒλ„ ν΄λΌμ΄μ–ΈνΈκ°€ κµ¬ν„μ²΄κ°€ μ•„λ‹ μΈν„°νμ΄μ¤μ— μμ΅΄ν•΄μ•Ό μ μ—°ν•κ² κµ¬ν„μ²΄λ¥Ό λ³€κ²½ν•  μ μλ‹¤.

![](Image/Pasted%20image%2020240327001227.png)
- MemberServiceλ” MemberRepository μΈν„°νμ΄μ¤λ¥Ό ν• λ‹Ήν–μ§€λ§ newλ¥Ό ν†µν•΄ MemoryMemberRepositoryμ™€JdbcMemberRepository λ‘ ν΄λμ¤λ„ ν• λ‹Ήν•κ³  μλ‹¤. λ”°λΌμ„, MemberServiceλ” MemberRepository μΈν„°νμ΄μ¤μ™€ MemoryMemberRepositoryμ™€ JdbcMemberRepository λ‘ ν΄λμ¤ λ¨λ‘ μμ΅΄ν•κ³  μλ” κ²ƒμ΄λ‹¤.

# π’΅ κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬(AppConfig) - OCP, DIP κ°μ²΄ μ§€ν–¥ μ„¤κ³„ μ›μΉ™ μ μ©
κ·Έλ¦Όκ³Ό κ°™μ΄ SRP(λ‹¨μΌ μ±…μ„), LSP(λ¦¬μ¤μ½”ν”„), ISP(μΈν„°νμ΄μ¤ λ¶„λ¦¬)λ¥Ό μ¤€μν•λ” μ½”λ“κ°€ μλ‹¤κ³  κ°€μ •ν•μ.
![](Image/Pasted%20image%2020240912234156.png)

- `OrderServiceImpl`μ€ `DiscountPolicy` μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ” κ²ƒμ²λΌ λ³΄μ΄μ§€λ§ λ™μ‹μ— κµ¬ν„ ν΄λμ¤μΈ `FixDiscountPolicy`μ™€ `RateDiscountPolicy`μ—λ„ μμ΅΄ν•κ³  μμΌλ―€λ΅ **DIPλ¥Ό μ„λ°**ν•κ³  μλ‹¤.
- `FixDiscountPolicyλ¥Ό` `RateDiscountPolicy`λ΅ λ³€κ²½ν•λ ¤κ³  ν•λ©΄ `OrderServiceImpl` ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό μ§μ ‘ λ³€κ²½ν•΄μ•Ό ν•λ―€λ΅ **OCPλ¥Ό μ„λ°**ν•κ³  μλ‹¤.

![](Image/Pasted%20image%2020240912234259.png)

- OCPμ™€ DIP κ°μ²΄ μ§€ν–¥ μ„¤κ³„ μ›μΉ™μ„ μ¤€μν•λ„λ΅ λ§λ“¤κΈ° μ„ν•΄μ„λ” **μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ„λ΅ λ³€κ²½**ν•΄μ•Ό ν•λ‹¤.
- μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•κ² ν•κΈ° μ„ν•΄μ„λ” λ³„λ„μ **μ„¤μ • ν΄λμ¤**(`AppConfig`)λ¥Ό λ§λ“¤μ–΄μ„ **κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±**ν•κ³ , **μ—°κ²°**(**μμ΅΄μ„± μ£Όμ…**)μ„ ν•λ„λ΅ μ„¤μ •ν•λ©΄ λλ‹¤. μ΄λ¥Ό **κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬**λΌκ³  ν•λ‹¤.
	- κµ¬ν„ κ°μ²΄
		- `MemberServiceImpl` 
		- `MemoryMemberRepository`
		- `OrderServiceImpl`
		- `FixDiscountPolicy
	- μƒμ„±μλ¥Ό ν†µν• μμ΅΄μ„± μ£Όμ…(μ—°κ²°)
		- `MemberServiceImpl`β†’ `MemoryMemberRepository`
		- `OrderServiceImpl`β†’`MemoryMemberRepository` , `FixDiscountPolicy`

![](Image/Pasted%20image%2020240912235455.png)

![](Image/Pasted%20image%2020240912235021.png)

![](Image/Pasted%20image%2020240912232413.png)
- `MemberServiceImpl`μ™€ `OrderServiceImpl` μ…μ¥μ—μ„λ” μƒμ„±μλ¥Ό ν†µν•΄ μ–΄λ–¤ κµ¬ν„ κ°μ²΄κ°€ λ“¤μ–΄μ¤λ”μ§€ μ• μ μ—†κ³  μμ‹ μ κΈ°λ¥μ—λ§ μ§‘μ¤‘ν•  μ μκ² λλ‹¤.

![](Image/Pasted%20image%2020240912235731.png)

## μ”μ•½ μ •λ¦¬
κΈ°μ΅΄μ μ½”λ“λ” κµ¬μ²΄ ν΄λμ¤μ—μ„ κµ¬μ²΄ ν΄λμ¤μ— μ§μ ‘ μμ΅΄ν–λ‹¤. λ•λ¬Έμ— DIPλ¥Ό μ„λ°ν•κ² λκ³  μμ΅΄ν•λ” ν΄λμ¤λ¥Ό λ°”κΏ€ λ• ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ―€λ΅ OCPλ¥Ό μ„λ°ν•λ‹¤.
![](Image/Pasted%20image%2020240327001227.png)
μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ μΈμ¤ν„΄μ¤ μƒμ„±κ³Ό μμ΅΄μ„± μ£Όμ…μ„ λ‹΄λ‹Ήν•λ” μ„¤μ • ν΄λμ¤(AppConfig)λ¥Ό λ§λ“¤μ—λ‹¤.
![](Image/Pasted%20image%2020240912235455.png)
μ„¤μ • ν΄λμ¤(`AppConfig`)κ°€ μΈμ¤ν„΄μ¤ μƒμ„±κ³Ό μμ΅΄μ„± μ£Όμ…μ„ λ¨λ‘ λ‹΄λ‹Ήν•κ² λλ‹¤.
λ”°λΌμ„ μμ΅΄ν•λ” μΈμ¤ν„΄μ¤κ°€ λ°”λ€λ”λΌλ„ κµ¬ν„ ν΄λμ¤(`MemberServiceImpl`, `OrderServiceImpl`)κ°€ μ•„λ‹ `AppConfig` ν΄λμ¤μ—μ„ λ³€κ²½ν•λ―€λ΅ **OCP**λ¥Ό μ§€ν‚¬ μ μκ³  μΈν„°νμ΄μ¤μ— μμ΅΄ν•κ² λμ–΄μ„ **DIP**λ¥Ό μ§€ν‚¬ μ μκ² λλ‹¤. 

# π’΅ IoC, DI, κ·Έλ¦¬κ³  μ»¨ν…μ΄λ„
## μ μ–΄μ μ—­μ „ IoC(Inversion of Control)
- μ „ν†µμ μΈ ν”„λ΅κ·Έλλ°μ—μ„λ” κ°λ°μκ°€ μ§μ ‘ ν”„λ΅κ·Έλ¨μ νλ¦„κ³Ό μ μ–΄λ¥Ό λ‹¤λ£¨λ” λ°λ©΄ **IoCλ” ν”„λ μ„μ›ν¬κ°€ κ°μ²΄μ μƒμ„±, κ΄€λ¦¬, μ μ–΄ νλ¦„μ„ λ‹΄λ‹Ή**ν•λ„λ΅ ν•λ” κ°λ…μ΄λ‹¤.
- μλ¥Ό λ“¤λ©΄ μ„μ—μ„ μ„¤λ…ν• κΈ°μ΅΄μ ν”„λ΅κ·Έλ¨μ€ κµ¬ν„ κ°μ²΄κ°€ ν•„μ”ν• κ°μ²΄ μƒμ„±κ³Ό μμ΅΄μ„± μ£Όμ…μ„ μ§μ ‘ ν–λ‹¤.
- ν•μ§€λ§ κ°μ²΄ μƒμ„±κ³Ό μμ΅΄μ„± μ£Όμ…μ„ **μ„¤μ • ν΄λμ¤**(`AppConfig`)κ°€ λ‹΄λ‹Ήν•κ³ λ΅ λ°”κΎΈκ³  κµ¬ν„ κ°μ²΄λ” μμ‹ μ λ΅μ§μ„ μ‹¤ν–‰ν•λ” μ—­ν• λ§ λ‹΄λ‹Ήν•λ„λ΅ λ°”κΎΈμ—λ‹¤. μ΄λ ‡λ“― **ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ„ λ‚΄λ¶€(κµ¬ν„ ν΄λμ¤)μ—μ„ μ§μ ‘ μ μ–΄ν•λ” κ²ƒμ΄ μ•„λ‹ μ™Έλ¶€(μ„¤μ • ν΄λμ¤)μ—μ„ κ΄€λ¦¬ν•λ” κ²ƒ**μ„ **μ μ–΄μ μ—­μ „**(**IoC**)μ΄λΌ ν•λ‹¤.
## μμ΅΄ κ΄€κ³„ μ£Όμ… DI(Dependency Injection)
- κ°μ²΄ κ°„μ μμ΅΄μ„±μ„ ν”„λ μ„μ›ν¬κ°€ μ£Όμ…ν•λ” κ°λ…μ΄λ‹¤.
- μ¦‰, κ°μ²΄κ°€ μμ΅΄ν•λ” κ°μ²΄λ¥Ό μ§μ ‘ μƒμ„±ν•κ±°λ‚ μ°Έμ΅°ν•λ” λ€μ‹  μ™Έλ¶€μ—μ„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ°Έμ΅°ν•λ„λ΅ ν•λ” λ°©μ‹μ΄λ‹¤.
- μ„μ—μ„ μ„¤λ…ν• `AppConfig`κ°€ ν•λ” μ—­ν• μ΄ DIμ΄λ‹¤.

## IoC μ»¨ν…μ΄λ„, DI μ»¨ν…μ΄λ„
`AppConfig`μ²λΌ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μμ΅΄ κ΄€κ³„λ¥Ό μ—°κ²°ν•΄μ£Όλ” κ²ƒμ„ IoC μ»¨ν…μ΄λ„ λλ” DI μ»¨ν…μ΄λ„λΌκ³  ν•λ‹¤.
μµκ·Όμ—” μμ΅΄ κ΄€κ³„ μ£Όμ…μ— μ΄μ μ„ λ§μ¶°μ„ μ£Όλ΅ DI μ»¨ν…μ΄λ„λΌκ³  ν•λ‹¤.

# π’΅ SpringμΌλ΅ DI μ„¤μ •

![](Image/Pasted%20image%2020240913002705.png)
- AppConfigμ— μ„¤μ •μ„ κµ¬μ„±ν•λ‹¤λ” λ»μ `@Configuration` μ„ λ¶™μ—¬μ¤€λ‹¤.
- κ° λ©”μ„λ“μ— `@Bean` μ„ λ¶™μ—¬μ¤€λ‹¤. μ΄λ ‡κ² ν•λ©΄ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•λ‹¤

![](Image/Pasted%20image%2020240913003031.png)
- JAVAμ—μ„λ” `AppConfig`λ¥Ό μ‚¬μ©ν•΄μ„ μ§μ ‘ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  DIλ¥Ό ν–μ§€λ§, μ΄μ λ¶€ν„°λ” μ¤ν”„λ§ μ»¨ν…μ΄λ„(`ApplicationContext`)λ¥Ό μ‚¬μ©ν•λ‹¤.
- μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” `@Configuration`μ΄ λ¶™μ€ `AppConfig`λ¥Ό μ„¤μ • μ •λ³΄λ΅ μ‚¬μ©ν•λ‹¤. μ—¬κΈ°μ„ `@Bean` μ΄ λΌ μ ν λ©”μ„λ“λ¥Ό λ¨λ‘ νΈμ¶ν•΄μ„ λ°ν™λ κ°μ²΄λ¥Ό μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅ν•λ‹¤.
- μ΄λ ‡κ² μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅λ κ°μ²΄λ¥Ό μ¤ν”„λ§ λΉμ΄λΌ ν•λ‹¤
- JAVAμ—μ„λ” κ°λ°μκ°€ ν•„μ”ν• κ°μ²΄λ¥Ό `AppConfig` λ¥Ό μ‚¬μ©ν•΄μ„ μ§μ ‘ μ΅°νν–μ§€λ§, μ΄μ λ¶€ν„°λ” μ¤ν”„λ§ μ»¨ν…μ΄λ„λ¥Ό ν†µν•΄μ„ `applicationContext.getBean()`λ©”μ„λ“λ΅ ν•„μ”ν• μ¤ν”„λ§ λΉ(κ°μ²΄)λ¥Ό μ°Ύμ•„μ„ μ‚¬μ©ν•λ‹¤.